{"version":3,"sources":["/tools/tools.js"],"names":[],"mappings":";;;;;;0BAAuB,YAAY;;;;AAEnC,IAAI,KAAK,GAAI,aAAW;AACpB,QAAI,IAAI,GAAG,EAAE,CAAC;;;;;;;;;AASd,QAAI,CAAC,SAAS,GAAG,UAAC,GAAG,EAAgC;YAA9B,MAAM,yDAAG,KAAK;YAAE,IAAI,yDAAG,EAAE;;AAC5C,cAAM,GAAG,MAAM,CAAC,WAAW,EAAE,CAAC;AAC9B,YAAI,MAAM,IAAI,KAAK,IAAI,MAAM,IAAI,KAAK,EAAE;AACpC,mBAAO,IAAI,OAAO,CAAC,UAAS,OAAO,EAAE,MAAM,EAAE;AACzC,wCAAW,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,UAAS,GAAG,EAAE,GAAG,EAAE;AAClE,wBAAI,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE;AAChB,8BAAM,CAAC,GAAG,IAAI,GAAG,CAAC,EAAE,CAAC,CAAC;qBACzB;AACD,2BAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;iBACrB,CAAC,CAAC;aACN,CAAC,CAAC;SACN,MAAM;AACH,mBAAO,IAAI,OAAO,CAAC,UAAS,OAAO,EAAE,MAAM,EAAE;AACzC,wCAAW,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,UAAS,GAAG,EAAE,GAAG,EAAE;AACjE,wBAAI,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE;AAChB,8BAAM,CAAC,GAAG,IAAI,GAAG,CAAC,EAAE,CAAC,CAAC;qBACzB;AACD,2BAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;iBACrB,CAAC,CAAC;aACN,CAAC,CAAC;SACN;KACJ;;;;;;AAMD,QAAI,CAAC,UAAU,GAAG,UAAS,GAAG,EAAE;;AAC9B,eAAO,GAAG,CAAC,OAAO,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC,MAAM,CAAC;KAClD;;AAGD,WAAO,IAAI,CAAC;CACf,GAAG,CAAC;;AAEL,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC","file":"/tools/tools.js","sourcesContent":["import superagent from 'superagent';\r\n\r\nlet tools = (function() {\r\n    let self = {};\r\n    /**\r\n     * http请求\r\n     * @method httpAgent\r\n     * @param  {[type]}  url    [description]\r\n     * @param  {[type]}  method [description]\r\n     * @param  {[type]}  data   [description]\r\n     * @return {[type]}         [description]\r\n     */\r\n    self.httpAgent = (url, method = 'get', data = '') => {\r\n        method = method.toLowerCase();\r\n        if (method == \"get\" || method == \"del\") {\r\n            return new Promise(function(resolve, reject) {\r\n                superagent[method].call(this, url).query(data).end(function(err, res) {\r\n                    if (err || !res.ok) {\r\n                        reject(err || res.ok);\r\n                    }\r\n                    resolve(res.body);\r\n                });\r\n            });\r\n        } else {\r\n            return new Promise(function(resolve, reject) {\r\n                superagent[method].call(this, url).send(data).end(function(err, res) {\r\n                    if (err || !res.ok) {\r\n                        reject(err || res.ok);\r\n                    }\r\n                    resolve(res.body);\r\n                });\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * 获取字符串长度，区分中英文\r\n     * @param  {[type]} str [description]\r\n     * @return {[type]}     [description]\r\n     */\r\n    self.getCharLen = function(str) { //获取字符串长度，区分中英文\r\n      return str.replace(/[^\\x00-\\xff]/g, \"rr\").length;\r\n    }\r\n\r\n\r\n    return self;\r\n}());\r\n\r\nmodule.exports = tools;\r\n"]}