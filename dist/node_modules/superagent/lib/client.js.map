{"version":3,"sources":["/node_modules/superagent/lib/client.js"],"names":[],"mappings":"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","file":"/node_modules/superagent/lib/client.js","sourcesContent":["/**\n * Root reference for iframes.\n */\n\nvar root;\nif (typeof window !== 'undefined') { // Browser window\n  root = window;\n} else if (typeof self !== 'undefined') { // Web Worker\n  root = self;\n} else { // Other environments\n  console.warn(\"Using browser-only version of superagent in non-browser environment\");\n  root = this;\n}\n\nvar Emitter = require('emitter');\nvar RequestBase = require('./request-base');\nvar isObject = require('./is-object');\nvar isFunction = require('./is-function');\nvar ResponseBase = require('./response-base');\n\n/**\n * Noop.\n */\n\nfunction noop(){};\n\n/**\n * Expose `request`.\n */\n\nvar request = exports = module.exports = function(method, url) {\n  // callback\n  if ('function' == typeof url) {\n    return new exports.Request('GET', method).end(url);\n  }\n\n  // url first\n  if (1 == arguments.length) {\n    return new exports.Request('GET', method);\n  }\n\n  return new exports.Request(method, url);\n}\n\nexports.Request = Request;\n\n/**\n * Determine XHR.\n */\n\nrequest.getXHR = function () {\n  if (root.XMLHttpRequest\n      && (!root.location || 'file:' != root.location.protocol\n          || !root.ActiveXObject)) {\n    return new XMLHttpRequest;\n  } else {\n    try { return new ActiveXObject('Microsoft.XMLHTTP'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.6.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.3.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP'); } catch(e) {}\n  }\n  throw Error(\"Browser-only verison of superagent could not find XHR\");\n};\n\n/**\n * Removes leading and trailing whitespace, added to support IE.\n *\n * @param {String} s\n * @return {String}\n * @api private\n */\n\nvar trim = ''.trim\n  ? function(s) { return s.trim(); }\n  : function(s) { return s.replace(/(^\\s*|\\s*$)/g, ''); };\n\n/**\n * Serialize the given `obj`.\n *\n * @param {Object} obj\n * @return {String}\n * @api private\n */\n\nfunction serialize(obj) {\n  if (!isObject(obj)) return obj;\n  var pairs = [];\n  for (var key in obj) {\n    pushEncodedKeyValuePair(pairs, key, obj[key]);\n  }\n  return pairs.join('&');\n}\n\n/**\n * Helps 'serialize' with serializing arrays.\n * Mutates the pairs array.\n *\n * @param {Array} pairs\n * @param {String} key\n * @param {Mixed} val\n */\n\nfunction pushEncodedKeyValuePair(pairs, key, val) {\n  if (val != null) {\n    if (Array.isArray(val)) {\n      val.forEach(function(v) {\n        pushEncodedKeyValuePair(pairs, key, v);\n      });\n    } else if (isObject(val)) {\n      for(var subkey in val) {\n        pushEncodedKeyValuePair(pairs, key + '[' + subkey + ']', val[subkey]);\n      }\n    } else {\n      pairs.push(encodeURIComponent(key)\n        + '=' + encodeURIComponent(val));\n    }\n  } else if (val === null) {\n    pairs.push(encodeURIComponent(key));\n  }\n}\n\n/**\n * Expose serialization method.\n */\n\n request.serializeObject = serialize;\n\n /**\n  * Parse the given x-www-form-urlencoded `str`.\n  *\n  * @param {String} str\n  * @return {Object}\n  * @api private\n  */\n\nfunction parseString(str) {\n  var obj = {};\n  var pairs = str.split('&');\n  var pair;\n  var pos;\n\n  for (var i = 0, len = pairs.length; i < len; ++i) {\n    pair = pairs[i];\n    pos = pair.indexOf('=');\n    if (pos == -1) {\n      obj[decodeURIComponent(pair)] = '';\n    } else {\n      obj[decodeURIComponent(pair.slice(0, pos))] =\n        decodeURIComponent(pair.slice(pos + 1));\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Expose parser.\n */\n\nrequest.parseString = parseString;\n\n/**\n * Default MIME type map.\n *\n *     superagent.types.xml = 'application/xml';\n *\n */\n\nrequest.types = {\n  html: 'text/html',\n  json: 'application/json',\n  xml: 'application/xml',\n  urlencoded: 'application/x-www-form-urlencoded',\n  'form': 'application/x-www-form-urlencoded',\n  'form-data': 'application/x-www-form-urlencoded'\n};\n\n/**\n * Default serialization map.\n *\n *     superagent.serialize['application/xml'] = function(obj){\n *       return 'generated xml here';\n *     };\n *\n */\n\n request.serialize = {\n   'application/x-www-form-urlencoded': serialize,\n   'application/json': JSON.stringify\n };\n\n /**\n  * Default parsers.\n  *\n  *     superagent.parse['application/xml'] = function(str){\n  *       return { object parsed from str };\n  *     };\n  *\n  */\n\nrequest.parse = {\n  'application/x-www-form-urlencoded': parseString,\n  'application/json': JSON.parse\n};\n\n/**\n * Parse the given header `str` into\n * an object containing the mapped fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseHeader(str) {\n  var lines = str.split(/\\r?\\n/);\n  var fields = {};\n  var index;\n  var line;\n  var field;\n  var val;\n\n  lines.pop(); // trailing CRLF\n\n  for (var i = 0, len = lines.length; i < len; ++i) {\n    line = lines[i];\n    index = line.indexOf(':');\n    field = line.slice(0, index).toLowerCase();\n    val = trim(line.slice(index + 1));\n    fields[field] = val;\n  }\n\n  return fields;\n}\n\n/**\n * Check if `mime` is json or has +json structured syntax suffix.\n *\n * @param {String} mime\n * @return {Boolean}\n * @api private\n */\n\nfunction isJSON(mime) {\n  return /[\\/+]json\\b/.test(mime);\n}\n\n/**\n * Initialize a new `Response` with the given `xhr`.\n *\n *  - set flags (.ok, .error, etc)\n *  - parse header\n *\n * Examples:\n *\n *  Aliasing `superagent` as `request` is nice:\n *\n *      request = superagent;\n *\n *  We can use the promise-like API, or pass callbacks:\n *\n *      request.get('/').end(function(res){});\n *      request.get('/', function(res){});\n *\n *  Sending data can be chained:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' })\n *        .end(function(res){});\n *\n *  Or passed to `.send()`:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' }, function(res){});\n *\n *  Or passed to `.post()`:\n *\n *      request\n *        .post('/user', { name: 'tj' })\n *        .end(function(res){});\n *\n * Or further reduced to a single call for simple cases:\n *\n *      request\n *        .post('/user', { name: 'tj' }, function(res){});\n *\n * @param {XMLHTTPRequest} xhr\n * @param {Object} options\n * @api private\n */\n\nfunction Response(req, options) {\n  options = options || {};\n  this.req = req;\n  this.xhr = this.req.xhr;\n  // responseText is accessible only if responseType is '' or 'text' and on older browsers\n  this.text = ((this.req.method !='HEAD' && (this.xhr.responseType === '' || this.xhr.responseType === 'text')) || typeof this.xhr.responseType === 'undefined')\n     ? this.xhr.responseText\n     : null;\n  this.statusText = this.req.xhr.statusText;\n  var status = this.xhr.status;\n  // handle IE9 bug: http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n  if (status === 1223) {\n      status = 204;\n  }\n  this._setStatusProperties(status);\n  this.header = this.headers = parseHeader(this.xhr.getAllResponseHeaders());\n  // getAllResponseHeaders sometimes falsely returns \"\" for CORS requests, but\n  // getResponseHeader still works. so we get content-type even if getting\n  // other headers fails.\n  this.header['content-type'] = this.xhr.getResponseHeader('content-type');\n  this._setHeaderProperties(this.header);\n\n  if (null === this.text && req._responseType) {\n    this.body = this.xhr.response;\n  } else {\n    this.body = this.req.method != 'HEAD'\n      ? this._parseBody(this.text ? this.text : this.xhr.response)\n      : null;\n  }\n}\n\nResponseBase(Response.prototype);\n\n/**\n * Parse the given body `str`.\n *\n * Used for auto-parsing of bodies. Parsers\n * are defined on the `superagent.parse` object.\n *\n * @param {String} str\n * @return {Mixed}\n * @api private\n */\n\nResponse.prototype._parseBody = function(str){\n  var parse = request.parse[this.type];\n  if(this.req._parser) {\n    return this.req._parser(this, str);\n  }\n  if (!parse && isJSON(this.type)) {\n    parse = request.parse['application/json'];\n  }\n  return parse && str && (str.length || str instanceof Object)\n    ? parse(str)\n    : null;\n};\n\n/**\n * Return an `Error` representative of this response.\n *\n * @return {Error}\n * @api public\n */\n\nResponse.prototype.toError = function(){\n  var req = this.req;\n  var method = req.method;\n  var url = req.url;\n\n  var msg = 'cannot ' + method + ' ' + url + ' (' + this.status + ')';\n  var err = new Error(msg);\n  err.status = this.status;\n  err.method = method;\n  err.url = url;\n\n  return err;\n};\n\n/**\n * Expose `Response`.\n */\n\nrequest.Response = Response;\n\n/**\n * Initialize a new `Request` with the given `method` and `url`.\n *\n * @param {String} method\n * @param {String} url\n * @api public\n */\n\nfunction Request(method, url) {\n  var self = this;\n  this._query = this._query || [];\n  this.method = method;\n  this.url = url;\n  this.header = {}; // preserves header name case\n  this._header = {}; // coerces header names to lowercase\n  this.on('end', function(){\n    var err = null;\n    var res = null;\n\n    try {\n      res = new Response(self);\n    } catch(e) {\n      err = new Error('Parser is unable to parse the response');\n      err.parse = true;\n      err.original = e;\n      // issue #675: return the raw response if the response parsing fails\n      if (self.xhr) {\n        // ie9 doesn't have 'response' property\n        err.rawResponse = typeof self.xhr.responseType == 'undefined' ? self.xhr.responseText : self.xhr.response;\n        // issue #876: return the http status code if the response parsing fails\n        err.status = self.xhr.status ? self.xhr.status : null;\n        err.statusCode = err.status; // backwards-compat only\n      } else {\n        err.rawResponse = null;\n        err.status = null;\n      }\n\n      return self.callback(err);\n    }\n\n    self.emit('response', res);\n\n    var new_err;\n    try {\n      if (!self._isResponseOK(res)) {\n        new_err = new Error(res.statusText || 'Unsuccessful HTTP response');\n        new_err.original = err;\n        new_err.response = res;\n        new_err.status = res.status;\n      }\n    } catch(e) {\n      new_err = e; // #985 touching res may cause INVALID_STATE_ERR on old Android\n    }\n\n    // #1000 don't catch errors from the callback to avoid double calling it\n    if (new_err) {\n      self.callback(new_err, res);\n    } else {\n      self.callback(null, res);\n    }\n  });\n}\n\n/**\n * Mixin `Emitter` and `RequestBase`.\n */\n\nEmitter(Request.prototype);\nRequestBase(Request.prototype);\n\n/**\n * Set Content-Type to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.xml = 'application/xml';\n *\n *      request.post('/')\n *        .type('xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n *      request.post('/')\n *        .type('application/xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n * @param {String} type\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.type = function(type){\n  this.set('Content-Type', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Accept to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.json = 'application/json';\n *\n *      request.get('/agent')\n *        .accept('json')\n *        .end(callback);\n *\n *      request.get('/agent')\n *        .accept('application/json')\n *        .end(callback);\n *\n * @param {String} accept\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.accept = function(type){\n  this.set('Accept', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Authorization field value with `user` and `pass`.\n *\n * @param {String} user\n * @param {String} pass\n * @param {Object} options with 'type' property 'auto' or 'basic' (default 'basic')\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.auth = function(user, pass, options){\n  if (!options) {\n    options = {\n      type: 'function' === typeof btoa ? 'basic' : 'auto',\n    }\n  }\n\n  switch (options.type) {\n    case 'basic':\n      this.set('Authorization', 'Basic ' + btoa(user + ':' + pass));\n    break;\n\n    case 'auto':\n      this.username = user;\n      this.password = pass;\n    break;\n  }\n  return this;\n};\n\n/**\n* Add query-string `val`.\n*\n* Examples:\n*\n*   request.get('/shoes')\n*     .query('size=10')\n*     .query({ color: 'blue' })\n*\n* @param {Object|String} val\n* @return {Request} for chaining\n* @api public\n*/\n\nRequest.prototype.query = function(val){\n  if ('string' != typeof val) val = serialize(val);\n  if (val) this._query.push(val);\n  return this;\n};\n\n/**\n * Queue the given `file` as an attachment to the specified `field`,\n * with optional `options` (or filename).\n *\n * ``` js\n * request.post('/upload')\n *   .attach('content', new Blob(['<a id=\"a\"><b id=\"b\">hey!</b></a>'], { type: \"text/html\"}))\n *   .end(callback);\n * ```\n *\n * @param {String} field\n * @param {Blob|File} file\n * @param {String|Object} options\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.attach = function(field, file, options){\n  if (this._data) {\n    throw Error(\"superagent can't mix .send() and .attach()\");\n  }\n\n  this._getFormData().append(field, file, options || file.name);\n  return this;\n};\n\nRequest.prototype._getFormData = function(){\n  if (!this._formData) {\n    this._formData = new root.FormData();\n  }\n  return this._formData;\n};\n\n/**\n * Invoke the callback with `err` and `res`\n * and handle arity check.\n *\n * @param {Error} err\n * @param {Response} res\n * @api private\n */\n\nRequest.prototype.callback = function(err, res){\n  var fn = this._callback;\n  this.clearTimeout();\n\n  if (err) {\n    this.emit('error', err);\n  }\n\n  fn(err, res);\n};\n\n/**\n * Invoke callback with x-domain error.\n *\n * @api private\n */\n\nRequest.prototype.crossDomainError = function(){\n  var err = new Error('Request has been terminated\\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.');\n  err.crossDomain = true;\n\n  err.status = this.status;\n  err.method = this.method;\n  err.url = this.url;\n\n  this.callback(err);\n};\n\n// This only warns, because the request is still likely to work\nRequest.prototype.buffer = Request.prototype.ca = Request.prototype.agent = function(){\n  console.warn(\"This is not supported in browser version of superagent\");\n  return this;\n};\n\n// This throws, because it can't send/receive data as expected\nRequest.prototype.pipe = Request.prototype.write = function(){\n  throw Error(\"Streaming is not supported in browser version of superagent\");\n};\n\n/**\n * Compose querystring to append to req.url\n *\n * @api private\n */\n\nRequest.prototype._appendQueryString = function(){\n  var query = this._query.join('&');\n  if (query) {\n    this.url += (this.url.indexOf('?') >= 0 ? '&' : '?') + query;\n  }\n\n  if (this._sort) {\n    var index = this.url.indexOf('?');\n    if (index >= 0) {\n      var queryArr = this.url.substring(index + 1).split('&');\n      if (isFunction(this._sort)) {\n        queryArr.sort(this._sort);\n      } else {\n        queryArr.sort();\n      }\n      this.url = this.url.substring(0, index) + '?' + queryArr.join('&');\n    }\n  }\n};\n\n/**\n * Check if `obj` is a host object,\n * we don't want to serialize these :)\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\nRequest.prototype._isHost = function _isHost(obj) {\n  // Native objects stringify to [object File], [object Blob], [object FormData], etc.\n  return obj && 'object' === typeof obj && !Array.isArray(obj) && Object.prototype.toString.call(obj) !== '[object Object]';\n}\n\n/**\n * Initiate request, invoking callback `fn(res)`\n * with an instanceof `Response`.\n *\n * @param {Function} fn\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.end = function(fn){\n  var self = this;\n  var xhr = this.xhr = request.getXHR();\n  var data = this._formData || this._data;\n\n  if (this._endCalled) {\n    console.warn(\"Warning: .end() was called twice. This is not supported in superagent\");\n  }\n  this._endCalled = true;\n\n  // store callback\n  this._callback = fn || noop;\n\n  // state change\n  xhr.onreadystatechange = function(){\n    var readyState = xhr.readyState;\n    if (readyState >= 2 && self._responseTimeoutTimer) {\n      clearTimeout(self._responseTimeoutTimer);\n    }\n    if (4 != readyState) {\n      return;\n    }\n\n    // In IE9, reads to any property (e.g. status) off of an aborted XHR will\n    // result in the error \"Could not complete the operation due to error c00c023f\"\n    var status;\n    try { status = xhr.status } catch(e) { status = 0; }\n\n    if (!status) {\n      if (self.timedout || self._aborted) return;\n      return self.crossDomainError();\n    }\n    self.emit('end');\n  };\n\n  // progress\n  var handleProgress = function(direction, e) {\n    if (e.total > 0) {\n      e.percent = e.loaded / e.total * 100;\n    }\n    e.direction = direction;\n    self.emit('progress', e);\n  }\n  if (this.hasListeners('progress')) {\n    try {\n      xhr.onprogress = handleProgress.bind(null, 'download');\n      if (xhr.upload) {\n        xhr.upload.onprogress = handleProgress.bind(null, 'upload');\n      }\n    } catch(e) {\n      // Accessing xhr.upload fails in IE from a web worker, so just pretend it doesn't exist.\n      // Reported here:\n      // https://connect.microsoft.com/IE/feedback/details/837245/xmlhttprequest-upload-throws-invalid-argument-when-used-from-web-worker-context\n    }\n  }\n\n  // querystring\n  this._appendQueryString();\n\n  this._setTimeouts();\n\n  // initiate request\n  try {\n    if (this.username && this.password) {\n      xhr.open(this.method, this.url, true, this.username, this.password);\n    } else {\n      xhr.open(this.method, this.url, true);\n    }\n  } catch (err) {\n    // see #1149\n    return this.callback(err);\n  }\n\n  // CORS\n  if (this._withCredentials) xhr.withCredentials = true;\n\n  // body\n  if (!this._formData && 'GET' != this.method && 'HEAD' != this.method && 'string' != typeof data && !this._isHost(data)) {\n    // serialize stuff\n    var contentType = this._header['content-type'];\n    var serialize = this._serializer || request.serialize[contentType ? contentType.split(';')[0] : ''];\n    if (!serialize && isJSON(contentType)) {\n      serialize = request.serialize['application/json'];\n    }\n    if (serialize) data = serialize(data);\n  }\n\n  // set header fields\n  for (var field in this.header) {\n    if (null == this.header[field]) continue;\n    xhr.setRequestHeader(field, this.header[field]);\n  }\n\n  if (this._responseType) {\n    xhr.responseType = this._responseType;\n  }\n\n  // send stuff\n  this.emit('request', this);\n\n  // IE11 xhr.send(undefined) sends 'undefined' string as POST payload (instead of nothing)\n  // We need null here if data is undefined\n  xhr.send(typeof data !== 'undefined' ? data : null);\n  return this;\n};\n\n/**\n * GET `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.get = function(url, data, fn){\n  var req = request('GET', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.query(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * HEAD `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.head = function(url, data, fn){\n  var req = request('HEAD', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * OPTIONS query to `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.options = function(url, data, fn){\n  var req = request('OPTIONS', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * DELETE `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nfunction del(url, fn){\n  var req = request('DELETE', url);\n  if (fn) req.end(fn);\n  return req;\n};\n\nrequest['del'] = del;\nrequest['delete'] = del;\n\n/**\n * PATCH `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.patch = function(url, data, fn){\n  var req = request('PATCH', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * POST `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.post = function(url, data, fn){\n  var req = request('POST', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * PUT `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.put = function(url, data, fn){\n  var req = request('PUT', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n"]}